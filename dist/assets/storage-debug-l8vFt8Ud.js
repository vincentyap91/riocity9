import{A as l,i as r}from"./index-CDJaF0lI.js";async function n(){try{if(l.storageType==="indexeddb"){const o=await r.getAllUsers();return console.log("=== 所有注册用户 (IndexedDB) ==="),console.table(o.map(e=>({用户名:e.username,手机:e.mobile||"未设置",推荐码:e.referralCode||"无",注册时间:new Date(e.createdAt).toLocaleString("zh-CN")}))),console.log("完整数据:",o),o}}catch(o){return console.error("查看用户失败:",o),[]}}async function t(o){try{if(l.storageType==="indexeddb"){const e=await r.getUserByUsername(o);return e?(console.log(`=== 用户信息: ${o} ===`),console.log(e),e):(console.log(`用户 ${o} 不存在`),null)}}catch(e){return console.error("查找用户失败:",e),null}}function s(){console.log("=== 存储配置 ==="),console.log("存储类型:",l.storageType),console.log("API 地址:",l.baseURL),console.log(`
当前登录用户:`,localStorage.getItem("user")),console.log("Auth Token:",localStorage.getItem("authToken")?"已设置":"未设置")}async function c(){if(confirm("确定要清除所有本地数据吗？这将删除所有注册用户！"))try{if(l.storageType==="indexeddb"){const e=indexedDB.deleteDatabase("Riocity9DB");e.onsuccess=()=>{console.log("IndexedDB 数据已清除"),localStorage.removeItem("user"),localStorage.removeItem("authToken"),alert("所有数据已清除！请刷新页面。")},e.onerror=()=>{console.error("清除 IndexedDB 失败")}}}catch(o){console.error("清除数据失败:",o)}}typeof window<"u"&&(window.viewAllUsers=n,window.findUser=t,window.viewStorageConfig=s,window.clearAllLocalData=c,console.log("%c存储调试工具已加载！","color: green; font-weight: bold;"),console.log("可用命令:"),console.log("  - viewAllUsers() - 查看所有注册用户"),console.log('  - findUser("用户名") - 查找特定用户'),console.log("  - viewStorageConfig() - 查看存储配置"),console.log("  - clearAllLocalData() - 清除所有本地数据（谨慎使用）"));export{c as clearAllLocalData,t as findUser,n as viewAllUsers,s as viewStorageConfig};
